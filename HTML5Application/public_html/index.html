<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
<head>
  <meta charset="UTF-8" />
  <title>ビンゴ</title>
<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>
window.SpeechRecognition = window.SpeechRecognition || webkitSpeechRecognition;
var recognition = new webkitSpeechRecognition();
recognition.lang = 'ja';
var numbers = [];
var u = new SpeechSynthesisUtterance();
u.lang = 'en-US';
u.rate = 1.2;
var MAX_NUM = 100;

// 録音終了時トリガー
recognition.addEventListener('result', function(event){
    var text = event.results.item(0).item(0).transcript;
    
    if(text === "スタート"){
        choseNum();
    }else{
        speechSynthesis.speak("You should say start");
    }
}, false);





function init(){    
    for(var i = 1; i <= 100; i ++ ){
        numbers[i] = i;
    }
    document.getElementById("initbtn").style.display = "none";
}

// 録音開始
function record()
{
    recognition.start();
    recognition.stop();
}

function choseNum(){
    new SpeechSynthesisUtterance("No Programming, No Life");
    var rnd = Math.floor(Math.random() * numbers.length) + 1;
    var num = numbers[rnd];
    document.getElementById("result").innerHTML = num;
    numbers.splice(rnd,1);
    u.text = num;
    speechSynthesis.speak(u);
}

</script>
<style>
  body {
    font-family:Meiryo;
  }
  .display1{
      font-size: 400px; 
      width:700px;
      margin-right: auto;
      margin-left : auto;
  }
  .btn{
    width:200px;
    font-size:24px;
    font-weight:bold;
    text-decoration:none;
    padding:8px 0 10px;
    color:#333;
    border:1px solid #333;
  }
</style>

</head>

<body>
    <div id="result" class="display1">-</div>
<br />
<input id="initbtn" type="button" onClick="init()" value="初期化" class="btn" />
<input id="recordbtn" type="button" onClick="record()" value="録音開始" class="btn"/>
<input id="chosebtn" type="button" onClick="choseNum()" value="録音なし抽選" class="btn"/>
<input id="chosebtn" type="button" onClick="choseNum()" value="景品の抽選" class="btn"/>
<div id="result" class="display2">なにがでるかな？</div>
</body>
</html>